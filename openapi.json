{"openapi":"3.1.0","info":{"title":"PilotForge API","description":"Tax Incentive Intelligence for Film & TV Productions","version":"v1"},"paths":{"/api/v1/jurisdictions/":{"get":{"tags":["Jurisdictions"],"summary":"Get all jurisdictions","description":"Retrieve all jurisdictions with optional filtering.\n\n- **country**: Filter by country (e.g., USA, Canada)\n- **type**: Filter by type (state, province, country)\n- **active**: Filter by active status","operationId":"get_jurisdictions_api_v1_jurisdictions__get","parameters":[{"name":"country","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},{"name":"active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Jurisdictions"],"summary":"Create jurisdiction","description":"Create a new jurisdiction.\n\n- **name**: Full name of the jurisdiction\n- **code**: Short code (e.g., CA, NY, BC)\n- **country**: Country name\n- **type**: Type of jurisdiction (state, province, country)","operationId":"create_jurisdiction_api_v1_jurisdictions__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/jurisdictions/{jurisdiction_id}":{"get":{"tags":["Jurisdictions"],"summary":"Get jurisdiction by ID","description":"Retrieve a specific jurisdiction by ID.\n\n- **jurisdiction_id**: The unique identifier of the jurisdiction","operationId":"get_jurisdiction_api_v1_jurisdictions__jurisdiction_id__get","parameters":[{"name":"jurisdiction_id","in":"path","required":true,"schema":{"type":"string","title":"Jurisdiction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Jurisdictions"],"summary":"Update jurisdiction","description":"Update an existing jurisdiction.\n\n- **jurisdiction_id**: The ID of the jurisdiction to update\n- Only provided fields will be updated","operationId":"update_jurisdiction_api_v1_jurisdictions__jurisdiction_id__put","parameters":[{"name":"jurisdiction_id","in":"path","required":true,"schema":{"type":"string","title":"Jurisdiction Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JurisdictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Jurisdictions"],"summary":"Delete jurisdiction","description":"Delete a jurisdiction.\n\n- **jurisdiction_id**: The ID of the jurisdiction to delete","operationId":"delete_jurisdiction_api_v1_jurisdictions__jurisdiction_id__delete","parameters":[{"name":"jurisdiction_id","in":"path","required":true,"schema":{"type":"string","title":"Jurisdiction Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/incentive-rules/":{"get":{"tags":["Incentive Rules"],"summary":"Get all incentive rules","description":"Retrieve all incentive rules with optional filtering and pagination.","operationId":"get_incentive_rules_api_v1_incentive_rules__get","parameters":[{"name":"jurisdiction_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Jurisdiction Id"}},{"name":"incentive_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Incentive Type"}},{"name":"active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":50,"title":"Page Size"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncentiveRuleList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Incentive Rules"],"summary":"Create incentive rule","description":"Create a new incentive rule.","operationId":"create_incentive_rule_api_v1_incentive_rules__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncentiveRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncentiveRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/incentive-rules/{rule_id}":{"get":{"tags":["Incentive Rules"],"summary":"Get incentive rule by ID","description":"Retrieve a specific incentive rule by ID.","operationId":"get_incentive_rule_api_v1_incentive_rules__rule_id__get","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncentiveRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/productions":{"get":{"tags":["Productions"],"summary":"Get all productions","description":"Retrieve all productions with optional filtering.","operationId":"get_productions_api_v1_productions_get","parameters":[{"name":"production_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Production Type"}},{"name":"active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Productions"],"summary":"Create production","description":"Create a new production.","operationId":"create_production_api_v1_productions_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/productions/{production_id}":{"get":{"tags":["Productions"],"summary":"Get production by ID","description":"Retrieve a specific production by ID.","operationId":"get_production_api_v1_productions__production_id__get","parameters":[{"name":"production_id","in":"path","required":true,"schema":{"type":"string","title":"Production Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Productions"],"summary":"Update production","description":"Update an existing production.","operationId":"update_production_api_v1_productions__production_id__put","parameters":[{"name":"production_id","in":"path","required":true,"schema":{"type":"string","title":"Production Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Productions"],"summary":"Delete production","description":"Delete a production.","operationId":"delete_production_api_v1_productions__production_id__delete","parameters":[{"name":"production_id","in":"path","required":true,"schema":{"type":"string","title":"Production Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/simple":{"post":{"tags":["Calculator"],"summary":"Calculate tax credit for single rule","description":"Calculate estimated tax credit for a production using a specific incentive rule.\n\n- **productionBudget**: Total production budget\n- **jurisdictionId**: Target jurisdiction\n- **ruleId**: Specific incentive rule to apply\n- **qualifyingBudget**: Optional override for qualifying budget\n\nReturns detailed calculation with requirements check.","operationId":"calculate_simple_api_v1_calculate_simple_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimpleCalculateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimpleCalculateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/compare":{"post":{"tags":["Calculator"],"summary":"Compare tax credits across jurisdictions","description":"Compare estimated tax credits across multiple jurisdictions.\n\n- **productionBudget**: Total production budget\n- **jurisdictionIds**: List of 2-10 jurisdictions to compare\n- **qualifyingBudget**: Optional override for qualifying budget\n\nReturns ranked comparison of all jurisdictions with best recommendation.","operationId":"calculate_compare_api_v1_calculate_compare_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareCalculateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareCalculateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/jurisdiction/{jurisdiction_id}":{"get":{"tags":["Calculator"],"summary":"Get all rules for a jurisdiction with budget estimate","description":"Get all available incentive rules for a jurisdiction with estimated credits.\n\nUseful for seeing all options in one place.","operationId":"calculate_jurisdiction_options_api_v1_calculate_jurisdiction__jurisdiction_id__get","parameters":[{"name":"jurisdiction_id","in":"path","required":true,"schema":{"type":"string","title":"Jurisdiction Id"}},{"name":"budget","in":"query","required":true,"schema":{"type":"number","title":"Budget"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/compliance":{"post":{"tags":["Calculator"],"summary":"Check compliance with incentive requirements","description":"Verify if a production meets all requirements for a specific incentive rule.\n\nChecks:\n- Minimum spend requirements\n- Shoot days requirements\n- Local hiring percentages\n- Special requirements (logos, cultural tests, etc.)\n\nReturns detailed compliance status with action items.","operationId":"check_compliance_api_v1_calculate_compliance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplianceCheckRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplianceCheckResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/date-based":{"post":{"tags":["Calculator"],"summary":"Get rules available on specific date","description":"Get all incentive rules available for a specific production date.\n\nUseful for:\n- Planning productions months/years in advance\n- Checking if rules have changed\n- Seeing upcoming rule changes\n- Understanding expired programs","operationId":"get_date_based_rules_api_v1_calculate_date_based_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DateBasedRulesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DateBasedRulesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/scenario":{"post":{"tags":["Calculator"],"summary":"Model multiple scenarios","description":"Model multiple \"what if\" scenarios for production planning.\n\nExamples:\n- What if we increase budget from $5M to $7M?\n- What if we film in Q1 vs Q4?\n- What if we hire 60% vs 80% local crew?\n- What if we split production between two dates?\n\nReturns comparison of all scenarios with recommendations.","operationId":"calculate_scenarios_api_v1_calculate_scenario_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioCalculateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioCalculateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calculate/options":{"get":{"tags":["Calculator"],"summary":"Get Calculator Options","description":"Get available options for calculator scenarios.\nReturns lists of available types and statuses formatted for dropdowns.","operationId":"get_calculator_options_api_v1_calculate_options_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/reports/comparison":{"post":{"tags":["Reports"],"summary":"Generate jurisdiction comparison PDF report","description":"Generate a professional PDF report comparing tax incentives across multiple jurisdictions.\n\nReturns a downloadable PDF with:\n- Executive summary\n- Jurisdiction comparison table\n- Detailed analysis\n- Recommendations","operationId":"generate_comparison_report_api_v1_reports_comparison_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateComparisonReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/compliance":{"post":{"tags":["Reports"],"summary":"Generate compliance verification PDF report","description":"Generate a professional PDF report verifying production compliance with incentive requirements.\n\nReturns a downloadable PDF with:\n- Compliance status\n- Requirements checklist\n- Detailed verification\n- Action items","operationId":"generate_compliance_report_api_v1_reports_compliance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateComplianceReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/scenario":{"post":{"tags":["Reports"],"summary":"Generate scenario analysis PDF report","description":"Generate a professional PDF report analyzing multiple production scenarios.\n\nReturns a downloadable PDF with:\n- Scenario comparison\n- Optimization analysis\n- ROI calculations\n- Recommendations","operationId":"generate_scenario_report_api_v1_reports_scenario_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateScenarioReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/excel/comparison":{"post":{"tags":["Excel Exports"],"summary":"Export jurisdiction comparison to Excel","description":"Export jurisdiction comparison to formatted Excel spreadsheet.\n\nReturns a downloadable Excel workbook with:\n- Summary sheet with best recommendation\n- Detailed comparison table\n- Savings analysis\n- Professional formatting","operationId":"export_comparison_excel_api_v1_excel_comparison_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateComparisonReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/excel/compliance":{"post":{"tags":["Excel Exports"],"summary":"Export compliance report to Excel","description":"Export compliance verification to formatted Excel spreadsheet.\n\nReturns a downloadable Excel workbook with:\n- Compliance status summary\n- Requirements checklist\n- Pass/fail indicators\n- Professional formatting","operationId":"export_compliance_excel_api_v1_excel_compliance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateComplianceReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/excel/scenario":{"post":{"tags":["Excel Exports"],"summary":"Export scenario analysis to Excel","description":"Export scenario analysis to formatted Excel spreadsheet.\n\nReturns a downloadable Excel workbook with:\n- Scenario comparison table\n- ROI analysis\n- Best scenario recommendation\n- Professional formatting","operationId":"export_scenario_excel_api_v1_excel_scenario_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateScenarioReportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/":{"get":{"tags":["Expenses"],"summary":"Get all expenses","description":"Retrieve all expenses with optional filtering.","operationId":"get_expenses_api_v1_expenses__get","parameters":[{"name":"production_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Production Id"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"is_qualifying","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Qualifying"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Expenses"],"summary":"Create expense","description":"Create a new production expense.","operationId":"create_expense_api_v1_expenses__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/{expense_id}":{"get":{"tags":["Expenses"],"summary":"Get expense by ID","description":"Retrieve a specific expense by ID.","operationId":"get_expense_api_v1_expenses__expense_id__get","parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","title":"Expense Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Expenses"],"summary":"Update expense","description":"Update an existing expense.","operationId":"update_expense_api_v1_expenses__expense_id__put","parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","title":"Expense Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Expenses"],"summary":"Delete expense","description":"Delete an expense.","operationId":"delete_expense_api_v1_expenses__expense_id__delete","parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","title":"Expense Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/production/{production_id}/calculate":{"get":{"tags":["Expenses"],"summary":"Calculate credit from actual expenses","description":"Calculate tax credit based on actual production expenses.\n\nThis is the real-time calculator that updates as expenses are added!","operationId":"calculate_from_expenses_api_v1_expenses_production__production_id__calculate_get","parameters":[{"name":"production_id","in":"path","required":true,"schema":{"type":"string","title":"Production Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductionExpenseCalculation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rule-engine/evaluate":{"post":{"tags":["rule-engine"],"summary":"Evaluate Rule Engine","operationId":"evaluate_rule_engine_api_v1_rule_engine_evaluate_post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","description":"Include debug trace/meta in response","default":false,"title":"Debug"},"description":"Include debug trace/meta in response"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/":{"get":{"tags":["Meta"],"summary":"Api Root","description":"API root endpoint (under /api/v1/)","operationId":"api_root_api_v1__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"tags":["Root"],"summary":"Root","description":"Root endpoint - API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"CompareCalculateRequest":{"properties":{"productionBudget":{"type":"number","exclusiveMinimum":0.0,"title":"Productionbudget","description":"Total production budget in USD"},"jurisdictionIds":{"items":{"type":"string"},"type":"array","maxItems":10,"minItems":2,"title":"Jurisdictionids","description":"List of jurisdiction IDs to compare"},"qualifyingBudget":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Qualifyingbudget","description":"Override qualifying budget"}},"type":"object","required":["productionBudget","jurisdictionIds"],"title":"CompareCalculateRequest","description":"Request for comparing multiple jurisdictions"},"CompareCalculateResponse":{"properties":{"totalBudget":{"type":"number","title":"Totalbudget"},"comparisons":{"items":{"$ref":"#/components/schemas/ComparisonResult"},"type":"array","title":"Comparisons"},"bestOption":{"$ref":"#/components/schemas/ComparisonResult"},"savingsVsWorst":{"type":"number","title":"Savingsvsworst"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes"}},"type":"object","required":["totalBudget","comparisons","bestOption","savingsVsWorst"],"title":"CompareCalculateResponse","description":"Response for comparison calculation"},"ComparisonResult":{"properties":{"jurisdiction":{"type":"string","title":"Jurisdiction"},"jurisdictionId":{"type":"string","title":"Jurisdictionid"},"ruleName":{"type":"string","title":"Rulename"},"ruleCode":{"type":"string","title":"Rulecode"},"incentiveType":{"type":"string","title":"Incentivetype"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage"},"estimatedCredit":{"type":"number","title":"Estimatedcredit"},"meetsRequirements":{"type":"boolean","title":"Meetsrequirements"},"rank":{"type":"integer","title":"Rank"},"savings":{"type":"number","title":"Savings"}},"type":"object","required":["jurisdiction","jurisdictionId","ruleName","ruleCode","incentiveType","percentage","estimatedCredit","meetsRequirements","rank","savings"],"title":"ComparisonResult","description":"Single jurisdiction comparison result"},"ComplianceCheckRequest":{"properties":{"productionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Productionid","description":"Production ID (if checking existing production)"},"ruleId":{"type":"string","title":"Ruleid","description":"Incentive rule ID to check compliance against"},"productionBudget":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Productionbudget","description":"Total production budget"},"qualifyingBudget":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Qualifyingbudget","description":"Qualifying budget"},"shootDays":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shootdays","description":"Number of shoot days"},"crewSize":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Crewsize","description":"Total crew size"},"localHirePercentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Localhirepercentage","description":"Percentage of local hires"},"hasPromoLogo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Haspromologo","description":"Has promotional logo in credits"},"hasCulturalTest":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Hasculturaltest","description":"Passed cultural test"},"isRelocating":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Isrelocating","description":"Is relocating production"},"additionalInfo":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Additionalinfo","description":"Additional compliance info"}},"type":"object","required":["ruleId"],"title":"ComplianceCheckRequest","description":"Request for compliance verification"},"ComplianceCheckResponse":{"properties":{"overallCompliance":{"type":"string","title":"Overallcompliance","description":"Overall status: compliant, non_compliant, partial, insufficient_data"},"jurisdiction":{"type":"string","title":"Jurisdiction","description":"Jurisdiction name"},"ruleName":{"type":"string","title":"Rulename","description":"Rule name"},"ruleCode":{"type":"string","title":"Rulecode","description":"Rule code"},"totalRequirements":{"type":"integer","title":"Totalrequirements","description":"Total requirements checked"},"requirementsMet":{"type":"integer","title":"Requirementsmet","description":"Requirements met"},"requirementsNotMet":{"type":"integer","title":"Requirementsnotmet","description":"Requirements not met"},"requirementsUnknown":{"type":"integer","title":"Requirementsunknown","description":"Requirements with unknown status"},"requirements":{"items":{"$ref":"#/components/schemas/RequirementCheck"},"type":"array","title":"Requirements","description":"Detailed requirement checks"},"estimatedCredit":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimatedcredit","description":"Estimated credit if compliant"},"actionItems":{"items":{"type":"string"},"type":"array","title":"Actionitems","description":"What needs to be done"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Warnings"},"nextSteps":{"items":{"type":"string"},"type":"array","title":"Nextsteps","description":"Recommended next steps"}},"type":"object","required":["overallCompliance","jurisdiction","ruleName","ruleCode","totalRequirements","requirementsMet","requirementsNotMet","requirementsUnknown","requirements"],"title":"ComplianceCheckResponse","description":"Response for compliance check"},"DateBasedRulesRequest":{"properties":{"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID"},"productionDate":{"type":"string","format":"date","title":"Productiondate","description":"Date to check rules for"},"includeExpired":{"type":"boolean","title":"Includeexpired","description":"Include expired rules","default":false}},"type":"object","required":["jurisdictionId","productionDate"],"title":"DateBasedRulesRequest","description":"Request for date-based rule selection"},"DateBasedRulesResponse":{"properties":{"jurisdiction":{"type":"string","title":"Jurisdiction","description":"Jurisdiction name"},"queryDate":{"type":"string","format":"date","title":"Querydate","description":"Date queried"},"activeRules":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Activerules","description":"Active rules on this date"},"upcomingRules":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Upcomingrules","description":"Rules becoming active soon"},"expiredRules":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Expiredrules","description":"Recently expired rules"},"totalActive":{"type":"integer","title":"Totalactive","description":"Number of active rules"},"totalUpcoming":{"type":"integer","title":"Totalupcoming","description":"Number of upcoming rules","default":0},"totalExpired":{"type":"integer","title":"Totalexpired","description":"Number of expired rules","default":0},"notes":{"items":{"type":"string"},"type":"array","title":"Notes","description":"Important date-related notes"}},"type":"object","required":["jurisdiction","queryDate","activeRules","totalActive"],"title":"DateBasedRulesResponse","description":"Response showing rules available on a specific date"},"EvaluateRequest":{"properties":{"jurisdiction_code":{"type":"string","maxLength":10,"minLength":1,"title":"Jurisdiction Code"},"production":{"anyOf":[{"$ref":"#/components/schemas/ProductionContext"},{"type":"null"}]},"expenses":{"items":{"$ref":"#/components/schemas/ExpenseItem"},"type":"array","title":"Expenses"}},"type":"object","required":["jurisdiction_code"],"title":"EvaluateRequest"},"ExpenseCreate":{"properties":{"productionId":{"type":"string","title":"Productionid","description":"Production ID"},"category":{"type":"string","title":"Category","description":"Expense category (labor, equipment, locations, etc)"},"subcategory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subcategory","description":"Subcategory"},"description":{"type":"string","title":"Description","description":"Expense description"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount","description":"Expense amount in USD"},"expenseDate":{"type":"string","format":"date","title":"Expensedate","description":"Date expense incurred"},"paymentDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Paymentdate","description":"Date payment made"},"isQualifying":{"type":"boolean","title":"Isqualifying","description":"Whether expense qualifies for incentive","default":true},"qualifyingNote":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qualifyingnote","description":"Note about qualifying status"},"vendorName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorname","description":"Vendor/payee name"},"vendorLocation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorlocation","description":"Vendor location"},"receiptNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptnumber","description":"Receipt number"},"invoiceNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoicenumber","description":"Invoice number"}},"type":"object","required":["productionId","category","description","amount","expenseDate"],"title":"ExpenseCreate","description":"Model for creating an expense"},"ExpenseItem":{"properties":{"category":{"type":"string","maxLength":64,"minLength":1,"title":"Category"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Amount"},"description":{"anyOf":[{"type":"string","maxLength":240},{"type":"null"}],"title":"Description"},"is_payroll":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Payroll"},"is_resident":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Resident"}},"type":"object","required":["category","amount"],"title":"ExpenseItem"},"ExpenseList":{"properties":{"total":{"type":"integer","title":"Total"},"totalAmount":{"type":"number","title":"Totalamount"},"qualifyingAmount":{"type":"number","title":"Qualifyingamount"},"nonQualifyingAmount":{"type":"number","title":"Nonqualifyingamount"},"expenses":{"items":{"$ref":"#/components/schemas/ExpenseResponse"},"type":"array","title":"Expenses"}},"type":"object","required":["total","totalAmount","qualifyingAmount","nonQualifyingAmount","expenses"],"title":"ExpenseList","description":"Model for list of expenses"},"ExpenseResponse":{"properties":{"productionId":{"type":"string","title":"Productionid","description":"Production ID"},"category":{"type":"string","title":"Category","description":"Expense category (labor, equipment, locations, etc)"},"subcategory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subcategory","description":"Subcategory"},"description":{"type":"string","title":"Description","description":"Expense description"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount","description":"Expense amount in USD"},"expenseDate":{"type":"string","format":"date","title":"Expensedate","description":"Date expense incurred"},"paymentDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Paymentdate","description":"Date payment made"},"isQualifying":{"type":"boolean","title":"Isqualifying","description":"Whether expense qualifies for incentive","default":true},"qualifyingNote":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qualifyingnote","description":"Note about qualifying status"},"vendorName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorname","description":"Vendor/payee name"},"vendorLocation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorlocation","description":"Vendor location"},"receiptNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptnumber","description":"Receipt number"},"invoiceNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoicenumber","description":"Invoice number"},"id":{"type":"string","title":"Id"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"updatedAt":{"type":"string","format":"date-time","title":"Updatedat"}},"type":"object","required":["productionId","category","description","amount","expenseDate","id","createdAt","updatedAt"],"title":"ExpenseResponse","description":"Model for expense responses"},"ExpenseSummary":{"properties":{"category":{"type":"string","title":"Category"},"totalAmount":{"type":"number","title":"Totalamount"},"qualifyingAmount":{"type":"number","title":"Qualifyingamount"},"nonQualifyingAmount":{"type":"number","title":"Nonqualifyingamount"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["category","totalAmount","qualifyingAmount","nonQualifyingAmount","count"],"title":"ExpenseSummary","description":"Summary of expenses by category"},"ExpenseUpdate":{"properties":{"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"subcategory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subcategory"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Amount"},"expenseDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expensedate"},"paymentDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Paymentdate"},"isQualifying":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Isqualifying"},"qualifyingNote":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qualifyingnote"},"vendorName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorname"},"vendorLocation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendorlocation"},"receiptNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receiptnumber"},"invoiceNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoicenumber"}},"type":"object","title":"ExpenseUpdate","description":"Model for updating an expense"},"GenerateComparisonReportRequest":{"properties":{"productionTitle":{"type":"string","title":"Productiontitle","description":"Production title"},"budget":{"type":"number","exclusiveMinimum":0.0,"title":"Budget","description":"Production budget"},"jurisdictionIds":{"items":{"type":"string"},"type":"array","maxItems":10,"minItems":2,"title":"Jurisdictionids","description":"List of jurisdiction IDs to compare"}},"type":"object","required":["productionTitle","budget","jurisdictionIds"],"title":"GenerateComparisonReportRequest","description":"Request to generate jurisdiction comparison report"},"GenerateComplianceReportRequest":{"properties":{"productionTitle":{"type":"string","title":"Productiontitle","description":"Production title"},"ruleId":{"type":"string","title":"Ruleid","description":"Incentive rule ID"},"productionBudget":{"type":"number","exclusiveMinimum":0.0,"title":"Productionbudget","description":"Production budget"},"shootDays":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shootdays","description":"Number of shoot days"},"localHirePercentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Localhirepercentage","description":"Local hire percentage"},"hasPromoLogo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Haspromologo","description":"Has promotional logo"},"hasCulturalTest":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Hasculturaltest","description":"Passed cultural test"}},"type":"object","required":["productionTitle","ruleId","productionBudget"],"title":"GenerateComplianceReportRequest","description":"Request to generate compliance report"},"GenerateScenarioReportRequest":{"properties":{"productionTitle":{"type":"string","title":"Productiontitle","description":"Production title"},"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID"},"baseProductionBudget":{"type":"number","exclusiveMinimum":0.0,"title":"Baseproductionbudget","description":"Base production budget"},"scenarios":{"items":{"additionalProperties":true,"type":"object"},"type":"array","minItems":2,"title":"Scenarios","description":"List of scenarios to analyze"}},"type":"object","required":["productionTitle","jurisdictionId","baseProductionBudget","scenarios"],"title":"GenerateScenarioReportRequest","description":"Request to generate scenario analysis report"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IncentiveRuleCreate":{"properties":{"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID this rule belongs to"},"ruleName":{"type":"string","title":"Rulename","description":"Name of the incentive rule"},"ruleCode":{"type":"string","title":"Rulecode","description":"Internal reference code (unique)"},"incentiveType":{"type":"string","title":"Incentivetype","description":"Type: tax_credit, rebate, grant, exemption"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage","description":"Percentage rate (e. g., 25.0 for 25%)"},"fixedAmount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Fixedamount","description":"Fixed amount incentive (if applicable)"},"minSpend":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minspend","description":"Minimum spend required"},"maxCredit":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Maxcredit","description":"Maximum credit cap"},"eligibleExpenses":{"items":{"type":"string"},"type":"array","title":"Eligibleexpenses","description":"Eligible expense categories"},"excludedExpenses":{"items":{"type":"string"},"type":"array","title":"Excludedexpenses","description":"Excluded expense categories"},"effectiveDate":{"type":"string","format":"date-time","title":"Effectivedate","description":"When rule becomes effective"},"expirationDate":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expirationdate","description":"When rule expires"},"requirements":{"additionalProperties":true,"type":"object","title":"Requirements","description":"Additional requirements"},"active":{"type":"boolean","title":"Active","description":"Whether rule is active","default":true}},"type":"object","required":["jurisdictionId","ruleName","ruleCode","incentiveType","effectiveDate"],"title":"IncentiveRuleCreate","description":"Model for creating an incentive rule."},"IncentiveRuleList":{"properties":{"total":{"type":"integer","title":"Total","description":"Total number of rules available"},"page":{"type":"integer","title":"Page","description":"Current page number","default":1},"pageSize":{"type":"integer","title":"Pagesize","description":"Number of items per page"},"totalPages":{"type":"integer","title":"Totalpages","description":"Total number of pages"},"rules":{"items":{"$ref":"#/components/schemas/IncentiveRuleResponse"},"type":"array","title":"Rules","description":"Rules returned"}},"type":"object","required":["total","pageSize","totalPages"],"title":"IncentiveRuleList","description":"Model for list of incentive rules."},"IncentiveRuleResponse":{"properties":{"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID this rule belongs to"},"ruleName":{"type":"string","title":"Rulename","description":"Name of the incentive rule"},"ruleCode":{"type":"string","title":"Rulecode","description":"Internal reference code (unique)"},"incentiveType":{"type":"string","title":"Incentivetype","description":"Type: tax_credit, rebate, grant, exemption"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage","description":"Percentage rate (e. g., 25.0 for 25%)"},"fixedAmount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Fixedamount","description":"Fixed amount incentive (if applicable)"},"minSpend":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minspend","description":"Minimum spend required"},"maxCredit":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Maxcredit","description":"Maximum credit cap"},"eligibleExpenses":{"items":{"type":"string"},"type":"array","title":"Eligibleexpenses","description":"Eligible expense categories"},"excludedExpenses":{"items":{"type":"string"},"type":"array","title":"Excludedexpenses","description":"Excluded expense categories"},"effectiveDate":{"type":"string","format":"date-time","title":"Effectivedate","description":"When rule becomes effective"},"expirationDate":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expirationdate","description":"When rule expires"},"requirements":{"additionalProperties":true,"type":"object","title":"Requirements","description":"Additional requirements"},"active":{"type":"boolean","title":"Active","description":"Whether rule is active","default":true},"id":{"type":"string","title":"Id"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"updatedAt":{"type":"string","format":"date-time","title":"Updatedat"}},"type":"object","required":["jurisdictionId","ruleName","ruleCode","incentiveType","effectiveDate","id","createdAt","updatedAt"],"title":"IncentiveRuleResponse","description":"Model for incentive rule responses."},"JurisdictionCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Jurisdiction name (e.g., California)"},"code":{"type":"string","title":"Code","description":"Jurisdiction code (e.g., CA)"},"country":{"type":"string","title":"Country","description":"Country (e.g., USA)"},"type":{"type":"string","title":"Type","description":"Type: state, province, or country"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description of jurisdiction"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website","description":"Official website URL"},"active":{"type":"boolean","title":"Active","description":"Whether jurisdiction is active","default":true}},"type":"object","required":["name","code","country","type"],"title":"JurisdictionCreate","description":"Model for creating a jurisdiction"},"JurisdictionList":{"properties":{"total":{"type":"integer","title":"Total"},"jurisdictions":{"items":{"$ref":"#/components/schemas/JurisdictionResponse"},"type":"array","title":"Jurisdictions"}},"type":"object","required":["total","jurisdictions"],"title":"JurisdictionList","description":"Model for list of jurisdictions"},"JurisdictionResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Jurisdiction name (e.g., California)"},"code":{"type":"string","title":"Code","description":"Jurisdiction code (e.g., CA)"},"country":{"type":"string","title":"Country","description":"Country (e.g., USA)"},"type":{"type":"string","title":"Type","description":"Type: state, province, or country"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description of jurisdiction"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website","description":"Official website URL"},"active":{"type":"boolean","title":"Active","description":"Whether jurisdiction is active","default":true},"id":{"type":"string","title":"Id","description":"Unique identifier"},"createdAt":{"type":"string","format":"date-time","title":"Createdat","description":"Creation timestamp"},"updatedAt":{"type":"string","format":"date-time","title":"Updatedat","description":"Last update timestamp"}},"type":"object","required":["name","code","country","type","id","createdAt","updatedAt"],"title":"JurisdictionResponse","description":"Model for jurisdiction responses"},"JurisdictionUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"}},"type":"object","title":"JurisdictionUpdate","description":"Model for updating a jurisdiction (all fields optional)"},"ProductionContext":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":120},{"type":"null"}],"title":"Title"},"budget":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Budget"}},"type":"object","title":"ProductionContext"},"ProductionCreate":{"properties":{"title":{"type":"string","title":"Title","description":"Production title"},"productionType":{"type":"string","title":"Productiontype","description":"Type: feature, tv_series, commercial, documentary"},"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID where production is based"},"budgetTotal":{"type":"number","title":"Budgettotal","description":"Total production budget in USD"},"budgetQualifying":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budgetqualifying","description":"Qualifying budget for incentives"},"startDate":{"type":"string","format":"date","title":"Startdate","description":"Production start date"},"endDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Enddate","description":"Production end date"},"wrapDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Wrapdate","description":"Production wrap date"},"productionCompany":{"type":"string","title":"Productioncompany","description":"Production company name"},"accountant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountant","description":"Production accountant name"},"contact":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Contact","description":"Contact information"},"status":{"type":"string","title":"Status","description":"Status: planning, pre_production, production, post_production, completed"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"}},"type":"object","required":["title","productionType","jurisdictionId","budgetTotal","startDate","productionCompany","status"],"title":"ProductionCreate","description":"Model for creating a production"},"ProductionExpenseCalculation":{"properties":{"productionId":{"type":"string","title":"Productionid"},"productionTitle":{"type":"string","title":"Productiontitle"},"jurisdictionName":{"type":"string","title":"Jurisdictionname"},"totalExpenses":{"type":"number","title":"Totalexpenses"},"qualifyingExpenses":{"type":"number","title":"Qualifyingexpenses"},"nonQualifyingExpenses":{"type":"number","title":"Nonqualifyingexpenses"},"qualifyingPercentage":{"type":"number","title":"Qualifyingpercentage"},"bestRuleName":{"type":"string","title":"Bestrulename"},"bestRuleCode":{"type":"string","title":"Bestrulecode"},"ruleId":{"type":"string","title":"Ruleid"},"appliedRate":{"type":"number","title":"Appliedrate"},"estimatedCredit":{"type":"number","title":"Estimatedcredit"},"meetsMinimum":{"type":"boolean","title":"Meetsminimum"},"minimumRequired":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minimumrequired"},"underMaximum":{"type":"boolean","title":"Undermaximum"},"maximumCap":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Maximumcap"},"expensesByCategory":{"items":{"$ref":"#/components/schemas/ExpenseSummary"},"type":"array","title":"Expensesbycategory"},"totalExpensesCount":{"type":"integer","title":"Totalexpensescount"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"}},"type":"object","required":["productionId","productionTitle","jurisdictionName","totalExpenses","qualifyingExpenses","nonQualifyingExpenses","qualifyingPercentage","bestRuleName","bestRuleCode","ruleId","appliedRate","estimatedCredit","meetsMinimum","minimumRequired","underMaximum","maximumCap","expensesByCategory","totalExpensesCount"],"title":"ProductionExpenseCalculation","description":"Real-time calculation based on actual expenses"},"ProductionList":{"properties":{"total":{"type":"integer","title":"Total"},"productions":{"items":{"$ref":"#/components/schemas/ProductionResponse"},"type":"array","title":"Productions"}},"type":"object","required":["total","productions"],"title":"ProductionList","description":"Model for list of productions"},"ProductionResponse":{"properties":{"title":{"type":"string","title":"Title","description":"Production title"},"productionType":{"type":"string","title":"Productiontype","description":"Type: feature, tv_series, commercial, documentary"},"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID where production is based"},"budgetTotal":{"type":"number","title":"Budgettotal","description":"Total production budget in USD"},"budgetQualifying":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budgetqualifying","description":"Qualifying budget for incentives"},"startDate":{"type":"string","format":"date","title":"Startdate","description":"Production start date"},"endDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Enddate","description":"Production end date"},"wrapDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Wrapdate","description":"Production wrap date"},"productionCompany":{"type":"string","title":"Productioncompany","description":"Production company name"},"accountant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountant","description":"Production accountant name"},"contact":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Contact","description":"Contact information"},"status":{"type":"string","title":"Status","description":"Status: planning, pre_production, production, post_production, completed"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"},"id":{"type":"string","title":"Id"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"updatedAt":{"type":"string","format":"date-time","title":"Updatedat"}},"type":"object","required":["title","productionType","jurisdictionId","budgetTotal","startDate","productionCompany","status","id","createdAt","updatedAt"],"title":"ProductionResponse","description":"Model for production responses"},"ProductionUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"productionType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Productiontype"},"jurisdictionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Jurisdictionid"},"budgetTotal":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budgettotal"},"budgetQualifying":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budgetqualifying"},"startDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Startdate"},"endDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Enddate"},"wrapDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Wrapdate"},"productionCompany":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Productioncompany"},"accountant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountant"},"contact":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Contact"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ProductionUpdate","description":"Model for updating a production"},"RequirementCheck":{"properties":{"requirement":{"type":"string","title":"Requirement","description":"Requirement name"},"description":{"type":"string","title":"Description","description":"What is required"},"status":{"type":"string","title":"Status","description":"Status: met, not_met, unknown, not_applicable"},"required":{"type":"boolean","title":"Required","description":"Whether this is mandatory"},"userValue":{"anyOf":[{},{"type":"null"}],"title":"Uservalue","description":"User's provided value"},"requiredValue":{"anyOf":[{},{"type":"null"}],"title":"Requiredvalue","description":"Required value"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes"}},"type":"object","required":["requirement","description","status","required"],"title":"RequirementCheck","description":"Single requirement check result"},"ScenarioCalculateRequest":{"properties":{"productionBudget":{"type":"number","exclusiveMinimum":0.0,"title":"Productionbudget","description":"Total production budget"},"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID"},"productionStartDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Productionstartdate","description":"Production start date (for date-based rules)"},"productionEndDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Productionenddate","description":"Production end date"},"scenarios":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Scenarios","description":"Different scenarios to model (e.g., different budgets, dates, hiring %)"},"qualifyingBudget":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Qualifyingbudget","description":"Qualifying budget"},"includeExpiredRules":{"type":"boolean","title":"Includeexpiredrules","description":"Include expired rules in analysis","default":false}},"type":"object","required":["productionBudget","jurisdictionId"],"title":"ScenarioCalculateRequest","description":"Request for scenario-based calculation"},"ScenarioCalculateResponse":{"properties":{"jurisdiction":{"type":"string","title":"Jurisdiction","description":"Jurisdiction name"},"baseProductionBudget":{"type":"number","title":"Baseproductionbudget","description":"Base production budget"},"productionDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Productiondate","description":"Production date analyzed"},"scenarios":{"items":{"$ref":"#/components/schemas/ScenarioResult"},"type":"array","title":"Scenarios","description":"All scenario results"},"bestScenario":{"$ref":"#/components/schemas/ScenarioResult","description":"Best scenario"},"worstScenario":{"$ref":"#/components/schemas/ScenarioResult","description":"Worst scenario"},"savingsDifference":{"type":"number","title":"Savingsdifference","description":"Savings difference between best and worst"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations"},"availableRules":{"type":"integer","title":"Availablerules","description":"Number of available rules"},"expiredRules":{"type":"integer","title":"Expiredrules","description":"Number of expired rules","default":0}},"type":"object","required":["jurisdiction","baseProductionBudget","scenarios","bestScenario","worstScenario","savingsDifference","availableRules"],"title":"ScenarioCalculateResponse","description":"Response for scenario analysis"},"ScenarioResult":{"properties":{"scenarioName":{"type":"string","title":"Scenarioname","description":"Scenario identifier"},"scenarioParams":{"additionalProperties":true,"type":"object","title":"Scenarioparams","description":"Parameters for this scenario"},"bestRuleName":{"type":"string","title":"Bestrulename","description":"Best applicable rule"},"bestRuleCode":{"type":"string","title":"Bestrulecode","description":"Rule code"},"ruleId":{"type":"string","title":"Ruleid","description":"Rule ID"},"estimatedCredit":{"type":"number","title":"Estimatedcredit","description":"Estimated credit"},"effectiveRate":{"type":"number","title":"Effectiverate","description":"Effective percentage rate"},"meetsRequirements":{"type":"boolean","title":"Meetsrequirements","description":"Whether requirements are met"},"isActive":{"type":"boolean","title":"Isactive","description":"Whether rule is currently active"},"isExpired":{"type":"boolean","title":"Isexpired","description":"Whether rule has expired","default":false},"effectiveDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Effectivedate","description":"Rule effective date"},"expirationDate":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expirationdate","description":"Rule expiration date"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes","description":"Scenario notes"}},"type":"object","required":["scenarioName","scenarioParams","bestRuleName","bestRuleCode","ruleId","estimatedCredit","effectiveRate","meetsRequirements","isActive"],"title":"ScenarioResult","description":"Result for a single scenario"},"SimpleCalculateRequest":{"properties":{"productionBudget":{"type":"number","exclusiveMinimum":0.0,"title":"Productionbudget","description":"Total production budget in USD"},"jurisdictionId":{"type":"string","title":"Jurisdictionid","description":"Jurisdiction ID"},"ruleId":{"type":"string","title":"Ruleid","description":"Incentive rule ID to apply"},"qualifyingBudget":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Qualifyingbudget","description":"Override qualifying budget (if different from total)"}},"type":"object","required":["productionBudget","jurisdictionId","ruleId"],"title":"SimpleCalculateRequest","description":"Request for simple tax credit calculation"},"SimpleCalculateResponse":{"properties":{"jurisdiction":{"type":"string","title":"Jurisdiction","description":"Jurisdiction name"},"ruleName":{"type":"string","title":"Rulename","description":"Incentive rule name"},"ruleCode":{"type":"string","title":"Rulecode","description":"Rule code"},"incentiveType":{"type":"string","title":"Incentivetype","description":"Type of incentive"},"totalBudget":{"type":"number","title":"Totalbudget","description":"Total production budget"},"qualifyingBudget":{"type":"number","title":"Qualifyingbudget","description":"Budget that qualifies for incentive"},"percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percentage","description":"Incentive percentage rate"},"estimatedCredit":{"type":"number","title":"Estimatedcredit","description":"Estimated tax credit/rebate amount"},"meetsMinimumSpend":{"type":"boolean","title":"Meetsminimumspend","description":"Whether production meets minimum spend requirement"},"minimumSpendRequired":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minimumspendrequired","description":"Minimum spend requirement"},"underMaximumCap":{"type":"boolean","title":"Undermaximumcap","description":"Whether credit is under maximum cap"},"maximumCapAmount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Maximumcapamount","description":"Maximum cap amount"},"requirements":{"additionalProperties":true,"type":"object","title":"Requirements","description":"Additional requirements"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes","description":"Calculation notes and warnings"}},"type":"object","required":["jurisdiction","ruleName","ruleCode","incentiveType","totalBudget","qualifyingBudget","estimatedCredit","meetsMinimumSpend","underMaximumCap"],"title":"SimpleCalculateResponse","description":"Response for simple calculation"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}